<!--HTML code for ABQ map data:-->

<!DOCTYPE html>
<html lang="en">
<head>
	<title>ABQ Map Data</title>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<!--	bootstrap libraries for nav bar-->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<!--	leaflet libraries and styles are added below-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
	<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" />
	<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" />
	<link rel="stylesheet" href="style.css"/>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
	<script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
	<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js'></script>
	<script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/leaflet.markercluster.js'></script>
</head>
<body>

<!--nav bar for title and button to click through the data once that functionality is added.-->
<nav class="sticky-top navbar navbar-expand-lg navbar-light bg-warning">
	<a class="navbar-brand">
		<img src="img/nm.png" alt="NM" id="zia">
			 <strong>
				 ABQ Top Checkin Spots
			 </strong>
	</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse flex-row-reverse" id="navbarNavAltMarkup">
		<div class="navbar-nav">
			<a data-toggle="tooltip" id="tooltip"
				title="This map shows top Facebook checkin spots in Albuquerque. Select a category to filter by industry.">
				<img src="img/info.svg" alt="info" id="info">
			</a>
			<div class="dropdown" id="nav-dropdown">
				<button class="btn btn-secondary dropdown-toggle bg-dark" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span id="selected">Select Category</span><span class="caret"></span>
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<a class="dropdown-item" id="toggleLayer" href="#">All Industries</a>
					<a class="dropdown-item" id="toggleTwentyLayer" href="#">Top 20 Spots</a>
					<a class="dropdown-item" id="toggleArtLayer" href="#">Art</a>
					<a class="dropdown-item" id="toggleCarLayer" href="#">Automotive</a>
					<a class="dropdown-item" id="toggleBarLayer" href="#">Bars</a>
					<a class="dropdown-item" id="toggleSchoolLayer" href="#">Education</a>
					<a class="dropdown-item" id="toggleFoodLayer" href="#">Food/Restaurants</a>
					<a class="dropdown-item" id="toggleGovLayer" href="#">Government</a>
					<a class="dropdown-item" id="toggleHealthLayer" href="#">Health/Medical</a>
					<a class="dropdown-item" id="toggleHotelLayer" href="#">Hotels</a>
					<a class="dropdown-item" id="toggleLocalLayer" href="#">Local Business</a>
					<a class="dropdown-item" id="toggleOrgLayer" href="#">Organizations</a>
					<a class="dropdown-item" id="toggleCareLayer" href="#">Personal Care</a>
					<a class="dropdown-item" id="toggleTodoLayer" href="#">Places of Interest</a>
					<a class="dropdown-item" id="toggleChurchLayer" href="#">Religious Sites</a>
					<a class="dropdown-item" id="toggleShopLayer" href="#">Shopping</a>
					<a class="dropdown-item" id="toggleSportLayer" href="#">Sports/Outdoors</a>
				</div>
			</div>
		</div>
	</div>
</nav>

<!--this enables the tooltip to work and show information.-->
<script>
	$(document).ready(function(){
		$('[data-toggle="tooltip"]').tooltip();
	});
</script>

<script>
	$('.dropdown-menu a').click(function(){
		$('#selected').text($(this).text());
	});
</script>

<!--creating the map div below and adding the author credit.-->
<div id="map"></div>
<p><a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a></p>
<script rel="script" src="script.js"></script>

<!--Adding all different data sets below:-->
<script src="data/facebook-abq.js"></script>
<script src="data/art-abq.js"></script>
<script src="data/bar-abq.js"></script>
<script src="data/car-abq.js"></script>
<script src="data/care-abq.js"></script>
<script src="data/church-abq.js"></script>
<script src="data/food-abq.js"></script>
<script src="data/gov-abq.js"></script>
<script src="data/health-abq.js"></script>
<script src="data/hotel-abq.js"></script>
<script src="data/local-abq.js"></script>
<script src="data/org-abq.js"></script>
<script src="data/school-abq.js"></script>
<script src="data/shop-abq.js"></script>
<script src="data/sport-abq.js"></script>
<script src="data/todo-abq.js"></script>
<script src="data/top-20-abq.js"></script>

<!--Calling the geojson data from the data folder to populate on the map.-->
<script>

	//Leaflet map code is shown below:

	let map = L.map('map', { zoomControl:false }).setView([35.15, -106.60], 12);

	//add zoom control to a new position
	L.control.zoom({
		position:'bottomright'
	}).addTo(map);

	L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=JEpA1SZ9bmeYReFjx7Bg', {
		tileSize: 512,
		zoomOffset: -1,
		minZoom: 3,
		noWrap: true,
		attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy;' +
			' MapTiler</a> <a href="https://www.openstreetmap.org/copyright"' +
			' target="_blank">&copy; OpenStreetMap contributors</a>',
		crossOrigin: true
	}).addTo(map);

	// Icon set up for the facebook user data
	let fbIcon = L.icon({
		iconUrl: 'img/facebook.svg',
		iconSize:     [32, 37], // size of the icon
		iconAnchor:   [16, 37], // point of the icon which will correspond to marker's location
		popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
	});

	let fbIcon2 = L.icon({
		iconUrl: 'img/facebook2.svg',
		iconSize:     [32, 37], // size of the icon
		iconAnchor:   [16, 37], // point of the icon which will correspond to marker's location
		popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
	});

		let allButton = L.geoJSON(facebook, {
			//Adds the fb icon as the marker for each point.
			pointToLayer: function(geoJsonPoint, latlng) {
				return L.marker(latlng, {
					icon: fbIcon
				}).on('mousemove', function(e) {
					e.target.setIcon(fbIcon2);
				}).on('mouseout', function(e) {
					e.target.setIcon(fbIcon);
				});
			},
			//Adds popups for each of the points.
			onEachFeature: function(feature, layer) {
				layer.bindPopup(
					'<h3>' + feature.properties.name + '</h3>' +
					'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
					'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
				);
			}
		});

//markers for the art category:
	let artButton = L.geoJSON(art, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the bar category:
	let barButton = L.geoJSON(bar, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the car category:
	let carButton = L.geoJSON(car, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the care category:
	let careButton = L.geoJSON(care, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the church category:
	let churchButton = L.geoJSON(church, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the food category:
	let foodButton = L.geoJSON(food, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the gov category:
	let govButton = L.geoJSON(gov, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the health category:
	let healthButton = L.geoJSON(health, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the hotel category:
	let hotelButton = L.geoJSON(hotel, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the local category:
	let localButton = L.geoJSON(local, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the org category:
	let orgButton = L.geoJSON(org, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the school category:
	let schoolButton = L.geoJSON(school, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the shop category:
	let shopButton = L.geoJSON(shop, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the sport category:
	let sportButton = L.geoJSON(sport, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the to-do category:
	let todoButton = L.geoJSON(todo, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//markers for the top 20 category:
	let twentyButton = L.geoJSON(twenty, {
		//Adds the fb icon as the marker for each point.
		pointToLayer: function(geoJsonPoint, latlng) {
			return L.marker(latlng, {
				icon: fbIcon
			}).on('mousemove', function(e) {
				e.target.setIcon(fbIcon2);
			}).on('mouseout', function(e) {
				e.target.setIcon(fbIcon);
			});
		},
		//Adds popups for each of the points.
		onEachFeature: function(feature, layer) {
			layer.bindPopup(
				'<h3>' + feature.properties.name + '</h3>' +
				'<p><strong>Category: </strong>' + feature.properties.category + '</p>' +
				'<p><strong>Checkins: </strong>' + feature.properties.checkins + '</p>'
			);
		}
	});

	//Bounds for the map to pull up with the data centered on it.
	map.fitBounds(facebook.getBounds(), {
		padding: [100,100]
	});
</script>
</body>
</html>
